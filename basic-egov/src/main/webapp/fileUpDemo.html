<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/dark-hive/jquery-ui.css" id="theme">
<link rel="stylesheet" href="/ohhoonim/css/demo.css">
<link rel="stylesheet" href="/ohhoonim/css/jquery.fileupload.css">
<link rel="stylesheet" href="/ohhoonim/css/jquery.fileupload-ui.css">
</head>
<body>

<form id="fileupload" action="/ohhoonim/common/imageFileUpload.do" method="POST" enctype="multipart/form-data">
    <!-- Redirect browsers with JavaScript disabled to the origin page -->
    <noscript><input type="hidden" name="redirect" value="https://blueimp.github.io/jQuery-File-Upload/"></noscript>
    <!-- The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload -->
    <div class="fileupload-buttonbar">
        <div class="fileupload-buttons">
            <!-- The fileinput-button span is used to style the file input field as button -->
            <span class="fileinput-button">
                <span>Add files...</span>
                <input type="file" name="files[]" multiple>
            </span>
            <button type="submit" class="start">Start upload</button>
            <button type="reset" class="cancel">Cancel upload</button>
            <button type="button" class="delete">Delete</button>
            <input type="checkbox" class="toggle">
            <!-- The global file processing state -->
            <span class="fileupload-process"></span>
        </div>
        <!-- The global progress state -->
        <div class="fileupload-progress fade" style="display:none">
            <!-- The global progress bar -->
            <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
            <!-- The extended global progress state -->
            <div class="progress-extended">&nbsp;</div>
        </div>
    </div>
    <!-- The table listing the files available for upload/download -->
    <table role="presentation"><tbody class="files"></tbody></table>
</form>
</body>
</html>



<!-- 



<form name="multiform" id="multiform" action="<%=contextPath%>/common/imageFileUpload.do" 
						method="post"  enctype="multipart/form-data"> 
    <div class ="gymImg">
        <img src="" id="previewImage"  alt="미리보기" style="width:254px;">	
    </div>
    <input type="file" name="file" />
    <div id="afile3-list" style="border:2px solid #c9c9c9;min-height:50px;"></div>
    <input type="submit" id="btnSubmit" value="전송"/>
</form>



<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script> 
<script src="<%=contextPath %>/js/upload/jquery.form.min.js"></script>
<script src="<%=contextPath %>/js/upload/jQuery.MultiFile.min.js"></script>
<script>
$(function(){
	//use jQuery MultiFile Plugin 
    $('#multiform input[name=file]').MultiFile({
        max: 1, //업로드 최대 파일 갯수 (지정하지 않으면 무한대)
        accept: 'jpg|png|gif', //허용할 확장자(지정하지 않으면 모든 확장자 허용)
        maxfile: 1024, //각 파일 최대 업로드 크기
        maxsize: 3024,  //전체 파일 최대 업로드 크기
        STRING: { //Multi-lingual support : 메시지 수정 가능
            remove : "제거", //추가한 파일 제거 문구, 이미태그를 사용하면 이미지사용가능
            duplicate : "$file 은 이미 선택된 파일입니다.", 
            denied : "$ext 는(은) 업로드 할수 없는 파일확장자입니다.",
            selected:'$file 을 선택했습니다.', 
            toomuch: "업로드할 수 있는 최대크기를 초과하였습니다.($size)", 
            toomany: "업로드할 수 있는 최대 갯수는 $max개 입니다.",
            toobig: "$file 은 크기가 매우 큽니다. (max $size)"
        },
        list:"#afile3-list" //파일목록을 출력할 요소 지정가능
    });
    
	//폼전송 : 해당폼의 submit 이벤트가 발생했을경우 실행  
    $('#multiform').ajaxForm({
       cache: false,
       dataType:"json",
       //보내기전 validation check가 필요할경우
       beforeSubmit: function (data, frm, opt) {
           //console.log(data);
           return true;
       },
 	   success: function(data, statusText){
    	    
        	alert("전송성공!!");
       	 	//console.log(data); //응답받은 데이터 콘솔로 출력         
        	$('#previewImage').attr('src', data.file.fileLink);
       	 	$('#fileId').val(data.file.fileId);
        	//output(data); //받은 정보를 화면 출력하는 함수 호출
    	},
    	//ajax error
    	error: function(e){
        	alert("에러발생!!");
        	console.log(e);
    	}         
    });
});
//전달받은 정보를 가지고 화면에 보기 좋게 출력
function output(data) {
	/*
    //업로드한 파일을 다운로드할수있도록 화면 구성
   
    if(data.file && data.file.length != 0){
    	$('#ig').remove();
    	$('#fi').remove();
            //var link = "fileDownload2?f="+item.fileName+"&of="+item.uploadedFileName;
        $("#image").append("<img id = 'ig' style='width:250px;height:250px' src='" + data.file.link + "'>");
    } 
    $("#file").append("<input type='hidden' id='fi' name='fileN' value='"+data.file.fileN+"'>");
    $("#file").append("<input type='hidden' id='fi' name='fileU' value='"+data.file.fileU+"'>");
    $("#file").append("<input type='hidden' id='fi' name='fileS' value='"+data.file.fileS+"'>");
    $("#file").append("<input type='hidden' id='fi' name='cType' value='"+data.file.cType+"'>");
    $("#file").append("<input type='hidden' id='fi' name='link' value='"+data.file.link+"'>");
    
    $('#image')[0].reset(); //폼 초기화(리셋);
    //$('#multiform').resetForm(); //(jQuery.Form 플러그인 메서드)
    //$('#multiform').clearForm(); //(jQuery.Form 플러그인 메서드)  
    $('#image input:file').MultiFile('reset'); //멀티파일 초기화  
    */
}
</script>




 -->




